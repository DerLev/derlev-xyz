{{ define "header" }}
  {{ partial "topnav" }}
{{ end }}
{{ define "main" }}
  <main class="list-page author-page">
    <header>
      <h1>{{ .Title }}</h1>
      <div class="avatar">
        {{ $avatar := "img/profile.webp" }}
        {{ $avatar_file := .Resources.Get $avatar }}

        {{ if not $avatar_file }}
          {{ $avatar = "images/default-profile.webp" }}
          {{ $avatar_file = resources.Get $avatar }}
        {{ end }}

        {{- $image_webp := partial "ImageConverter.html" (dict "ImageSrc" $avatar "ImgParam" "256x256 webp q90" "Page" .) -}}
        {{- $image_webp_hires := partial "ImageConverter.html" (dict "ImageSrc" $avatar "ImgParam" "512x512 webp q90" "Page" .) -}}

        <picture>
          <source srcset="{{ $image_webp }}, {{ $image_webp_hires }} 2x" type="image/webp">
          <img src="{{ $image_webp }}" width="{{ $avatar_file.Width }}" height="{{ $avatar_file.Height }}">
        </picture>
      </div>
      <div class="socials">
        {{ range $key, $value := .Params.links }}
          {{ partial "social-link" (dict "platform" $key "link" $value) }}
        {{ end }}
      </div>
      <div class="description">
        {{ .Content }}
      </div>
    </header>
    <section class="articles-list">
      {{ range where .Site.Pages ".Params.authors" "intersect" (slice .Title) }}
        {{ partial "post-card" . }}
      {{ end }}
    </section>
  </main>
{{ end }}
{{ define "footer" }}
  {{ partial "footer" . }}
{{ end }}
